//--------------------------------------------------------------
// PRIMARY NAVIGATION
//--------------------------------------------------------------

//-------------------------------
// Primary Menu
//-------------------------------
.primary-menu {
	@include margin-padding-reset;

	display: none;
	padding: $size__padding;
	transition: $transition__click;

	@include grid-media($tablet-portrait-up) {
		display: flex;
		justify-content: space-around;
		margin: 0 auto;
		max-width: $size__navigation;
	}

	.logged-in & {

		&.open {
			top: rem(46);

			@include grid-media ($tablet-portrait-up) {
				top: auto;
			}
		}
	}
}


//-------------------------------
// Menu Items
//-------------------------------
.menu-item {

	@include grid-media($tablet-portrait-up) {
		display: inline-block;
	}

	// This needs to be scoped to the primary menu so it doesn't break the social navigation.
	.primary-menu & > a {
		display: block;
		padding: 5px 0;
		text-decoration: none;

		@include grid-media($tablet-portrait-up) {
			display: inline-block;
			padding: 10px;
		}
	}

	&-has-children {
		position: relative;

		@include grid-media($tablet-portrait-up) {

			> a {
				padding-right: 50px;
			}
		}
	}
}


//-------------------------------
// Sub Menu
//-------------------------------
.sub-menu {
	display: none;
	padding-left: $size__padding;

	@include grid-media($tablet-portrait-up) {
		min-width: 175px;
		padding-left: 0;
		position: absolute;
		text-align: left;
		top: 101%;
		width: 100%;
	}

	.menu-item {
		display: block;
	}

	.sub-menu {
		left: 100%;
		top: 0;
	}

	.reverse-expand > & {
		left: -100%;
	}
}


//-------------------------------
// Sub Menu Toggle Style Chevron
//-------------------------------
.sub-level-toggle {
	@include position(absolute, 0 0 null null);
	@include size(35px);

	background-color: transparent;
	overflow: hidden;
	text-indent: 9999px;
	transition: $transition__click;

	@include grid-media($tablet-portrait-up) {
		top: 5px;
	}

	&:hover {
		background-color: transparent;
	}

	@include element(bar) {
		@include size(12px 2px);

		background-color: $color__menu-sub-toggle;
		display: block;
		margin: auto;
		position: absolute;
		top: 60%;
		transition: $transition__click;

		//-------------------------------
		// Chevron Toggle Style
		//-------------------------------
		.sub-menu-toggle-style-chevron & {

			&.span-1 {
				left: 5px;
				transform: rotate(45deg) translateY(-50%);
				transform-origin: 100%;
			}

			&.span-2 {
				right: 5px;
				transform: rotate(-45deg) translateY(-50%);
				transform-origin: 0;
			}
		}

		//-------------------------------
		// Plus-Minus Toggle Style
		//-------------------------------
		.sub-menu-toggle-style-plus-minus & {

			&.span-1,
			&.span-2 {
				bottom: 0;
				left: 0;
				right: 0;
				top: 0;
			}

			&.span-2 {
				transform: rotate(90deg);
			}
		}
	}
}
